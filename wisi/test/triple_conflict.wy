;;; Example of a grammar with more than two conflicts in a single action; generate fails

%keyword CLASS "class"

%token <punctuation> DOT "."
%token <punctuation> LEFT_SQUARE_BRACKET "["
%token <punctuation> RIGHT_SQUARE_BRACKET "]"
%token <punctuation> SEMICOLON ";"

%token <symbol> IDENTIFIER [a-zA-Z\x80-\U0010FFFF][0-9a-zA-Z_\x80-\U0010FFFF]*

%start ClassDeclaration

ClassDeclaration
  : CLASS Primary SEMICOLON
  ;

Primary
  : QualifiedIdentifier Square_Brackets_opt DOT CLASS
  | IDENTIFIER Square_Brackets_opt DOT CLASS
  ;

QualifiedIdentifier
  : IDENTIFIER
  | QualifiedIdentifier DOT IDENTIFIER
  ;

Square_Brackets_opt
  : ;; empty
  | LEFT_SQUARE_BRACKET RIGHT_SQUARE_BRACKET
  | Square_Brackets_opt LEFT_SQUARE_BRACKET RIGHT_SQUARE_BRACKET
  ;

;; end of file
