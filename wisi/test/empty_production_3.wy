;;; finding bug in parse table generator; two nonterms at end of
;;; production, where first can be empty, were handled wrong.

%keyword IN "in"

%token <symbol> IDENTIFIER %[ [a-zA-Z][0-9a-zA-Z_]+ ]%

%non_grammar <non-reporting> WHITESPACE %[ [ \t\n] ]%

%start compilation_unit
%first_state_index 1
%first_parser_label 1
%generator_algorithm LALR_LR1
%output_language Ada
%lexer re2c

compilation_unit
  : parameter_specification parameter_specification
    %(null; -- setq wisi-test-success t)%
  ;

mode
  : ;; empty
  | IN
  ;

name
  : IDENTIFIER
    %()%
    %(return Propagate_Name (Nonterm, Tokens, 1);)%
  ;

parameter_specification
  : IDENTIFIER mode name
  ;

;;; end of file
