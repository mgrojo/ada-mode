;;; finding bug in parse table generator; nonterm followed by possibly empty nonterm

%{
%%
%}

%token <punctuation> SEMICOLON ";"

%keyword ACCEPT "accept"
%keyword LEFT_PAREN "("
%keyword RIGHT_PAREN ")"

%token <symbol> IDENTIFIER [a-zA-Z][0-9a-zA-Z_]*

%non_grammar <non-reporting> WHITESPACE [ \t\n]

%start compilation_unit
%first_state_index 1
%first_parser_label 1
%parser_algorithm LALR_LR1
%output_language Ada
%lexer re2c

%%

compilation_unit
  : accept_statement accept_statement
  ;

accept_statement
  : ACCEPT name parameter_profile SEMICOLON
    (null; -- wisi-statement-actions [1 statement-start 4 statement-end])
  ;

name : IDENTIFIER
    ()
    (return Propagate_Name (Tree, Nonterm, Tokens, 1);)
  ;

parameter_profile
  : ;; empty
  | LEFT_PAREN IDENTIFIER RIGHT_PAREN
  ;


%%

;; Local Variables:
;; eval: (add-hook 'before-save-hook 'delete-trailing-whitespace nil t)
;; End:
;;; end of file
