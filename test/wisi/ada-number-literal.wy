;; test ada-wisi number-literal lexer

%{
  (require 'ada-wisi) ;; for ada-wisi-number-p
%}

;; This defines comment syntax for the Ada parser. Comment syntax for
;; the elisp parser is defined by run-wisi-test
%token <line_comment> COMMENT "--"

%keyword NUMBER "number"
%keyword RANGE "range"

%token <punctuation> DOT_DOT ".."

%token <number> NUMERIC_LITERAL ada-wisi-number-p

%start compilation_unit

%%

compilation_unit
  : number_list
    (setq wisi-test-success t)
  ;

number
  : NUMBER NUMERIC_LITERAL
  | RANGE NUMERIC_LITERAL DOT_DOT NUMERIC_LITERAL
  ;

number_list
  : number
  | number_list number
  ;

%%

;; Local Variables:
;; eval: (add-hook 'before-save-hook 'delete-trailing-whitespace nil t)
;; End:
;;; end of file
