;; test ada-wisi number-literal lexer

%code actions spec context %{
(require 'ada-wisi) ;; for ada-wisi-number-p
}%

;; This defines comment syntax for the Ada parser. Comment syntax for
;; the elisp parser is defined by run-wisi-test
%non_grammar <comment> COMMENT %[ "--"[^\n]* ]%

%keyword NUMBER "number"
%keyword RANGE "range"

%token <punctuation> DOT_DOT ".."

%token <number> NUMERIC_LITERAL ada-wisi-number-p

%start compilation_unit
%generate LALR Elisp

compilation_unit
  : number_list
    %((setq wisi-test-success t))%
  ;

number
  : NUMBER NUMERIC_LITERAL
  | RANGE NUMERIC_LITERAL DOT_DOT NUMERIC_LITERAL
  ;

number_list
  : number
  | number_list number
  ;

;;; end of file
