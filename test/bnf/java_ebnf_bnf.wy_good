;;; generated from java_ebnf.wy
;;;
;; Examples of EBNF syntax used in the Java grammar file
;; https://github.com/antlr/grammars-v4/tree/master/java
;;
;; Note that the only *.*_good file is java_ebnf_bnf.wy_good, and that
;; this file does not declare all used tokens; we are only testing the
;; translation from EBNF to BNF.

%meta_syntax BNF

%start compilationUnit
%generate None

%token <punctuation> ADD_ASSIGN '+='
%token <punctuation> AND_ASSIGN '&='
%token <punctuation> ASSIGN '='
%token <punctuation> COMMA ','
%token <punctuation> DEC '--'
%token <punctuation> DIV_ASSIGN '/='
%token <punctuation> DOT '.'
%token <punctuation> INC '++'
%token <punctuation> LBRACE '{'
%token <punctuation> LBRACK '['
%token <punctuation> LSHIFT_ASSIGN '<<='
%token <punctuation> MOD_ASSIGN '%='
%token <punctuation> MUL_ASSIGN '*='
%token <punctuation> OR_ASSIGN '|='
%token <punctuation> RBRACE '}'
%token <punctuation> RBRACK ']'
%token <punctuation> RSHIFT_ASSIGN '>>='
%token <punctuation> SEMI ';'
%token <punctuation> SUB_ASSIGN '-='
%token <punctuation> URSHIFT_ASSIGN '>>>='
%token <punctuation> XOR_ASSIGN '^='

;; IDENTIFIER QUESTION | IDENTIFIER STAR
compilationUnit
  : packageDeclaration nonterminal_004_list nonterminal_005_list EOF
  | packageDeclaration nonterminal_004_list EOF
  | packageDeclaration nonterminal_005_list EOF
  | packageDeclaration EOF
  | nonterminal_004_list nonterminal_005_list EOF
  | nonterminal_004_list EOF
  | nonterminal_005_list EOF
  | EOF
  ;

statement
  : blockLabel=block
  | TRY block nonterminal_007
  | SWITCH parExpression LBRACE nonterminal_009_list nonterminal_011_list RBRACE
  | SWITCH parExpression LBRACE nonterminal_009_list RBRACE
  | SWITCH parExpression LBRACE nonterminal_011_list RBRACE
  | SWITCH parExpression LBRACE RBRACE
  ;

;; rhs_group_item QUESTION | STRING_LITERAL_2 QUESTION
enumDeclaration
  : ENUM IDENTIFIER nonterminal_013 LBRACE enumConstants COMMA enumBodyDeclarations RBRACE
  | ENUM IDENTIFIER nonterminal_013 LBRACE enumConstants COMMA RBRACE
  | ENUM IDENTIFIER nonterminal_013 LBRACE enumConstants enumBodyDeclarations RBRACE
  | ENUM IDENTIFIER nonterminal_013 LBRACE enumConstants RBRACE
  | ENUM IDENTIFIER nonterminal_013 LBRACE COMMA enumBodyDeclarations RBRACE
  | ENUM IDENTIFIER nonterminal_013 LBRACE COMMA RBRACE
  | ENUM IDENTIFIER nonterminal_013 LBRACE enumBodyDeclarations RBRACE
  | ENUM IDENTIFIER nonterminal_013 LBRACE RBRACE
  | ENUM IDENTIFIER LBRACE enumConstants COMMA enumBodyDeclarations RBRACE
  | ENUM IDENTIFIER LBRACE enumConstants COMMA RBRACE
  | ENUM IDENTIFIER LBRACE enumConstants enumBodyDeclarations RBRACE
  | ENUM IDENTIFIER LBRACE enumConstants RBRACE
  | ENUM IDENTIFIER LBRACE COMMA enumBodyDeclarations RBRACE
  | ENUM IDENTIFIER LBRACE COMMA RBRACE
  | ENUM IDENTIFIER LBRACE enumBodyDeclarations RBRACE
  | ENUM IDENTIFIER LBRACE RBRACE
  ;

;; Duplicate '(IMPLEMENTS typeList)?'
classDeclaration
  : CLASS IDENTIFIER typeParameters nonterminal_016 nonterminal_013 classBody
  | CLASS IDENTIFIER typeParameters nonterminal_016 classBody
  | CLASS IDENTIFIER typeParameters nonterminal_013 classBody
  | CLASS IDENTIFIER typeParameters classBody
  | CLASS IDENTIFIER nonterminal_016 nonterminal_013 classBody
  | CLASS IDENTIFIER nonterminal_016 classBody
  | CLASS IDENTIFIER nonterminal_013 classBody
  | CLASS IDENTIFIER classBody
  ;

;; labeled rhs_optional_item
forControl
  : enhancedForControl
  | forInit SEMI expression SEMI forUpdate=expressionList
  | forInit SEMI expression SEMI
  | forInit SEMI SEMI forUpdate=expressionList
  | forInit SEMI SEMI
  | SEMI expression SEMI forUpdate=expressionList
  | SEMI expression SEMI
  | SEMI SEMI forUpdate=expressionList
  | SEMI SEMI
  ;

;; labeled STRING_LITERAL_2, non-trivial rhs_alternative_list, labeled rhs_group_item, rhs_attribute
expression
  : primary
  | expression bop=DOT nonterminal_020
  | expression postfix=nonterminal_023

;; attribute with more than one item following
  | expression bop=nonterminal_036 expression

;; attribute with one item following
  | expression
  ;

;; non-trivial group item
arrayCreatorRest
  : LBRACK nonterminal_050
  ;

;; another non-trivial group item, and lots of copies
interfaceMethodDeclaration
  : nonterminal_051_list nonterminal_053 IDENTIFIER formalParameters nonterminal_041_list nonterminal_056 methodBody
  | nonterminal_051_list nonterminal_053 IDENTIFIER formalParameters nonterminal_041_list methodBody
  | nonterminal_051_list nonterminal_053 IDENTIFIER formalParameters nonterminal_056 methodBody
  | nonterminal_051_list nonterminal_053 IDENTIFIER formalParameters methodBody
  | nonterminal_053 IDENTIFIER formalParameters nonterminal_041_list nonterminal_056 methodBody
  | nonterminal_053 IDENTIFIER formalParameters nonterminal_041_list methodBody
  | nonterminal_053 IDENTIFIER formalParameters nonterminal_056 methodBody
  | nonterminal_053 IDENTIFIER formalParameters methodBody
  ;
;; end of file
nonterminal_004_list
  : importDeclaration
  | nonterminal_004_list importDeclaration
  ;
nonterminal_005_list
  : typeDeclaration
  | nonterminal_005_list typeDeclaration
  ;
nonterminal_006_list
  : catchClause
  | nonterminal_006_list catchClause
  ;
nonterminal_007
  : nonterminal_006_list finallyBlock
  | nonterminal_006_list
  | finallyBlock
  ;
nonterminal_009_list
  : switchBlockStatementGroup
  | nonterminal_009_list switchBlockStatementGroup
  ;
nonterminal_011_list
  : switchLabel
  | nonterminal_011_list switchLabel
  ;
nonterminal_013
  : IMPLEMENTS typeList
  ;
nonterminal_016
  : EXTENDS typeType
  ;
nonterminal_020
  : THIS
  | NEW nonWildcardTypeArguments innerCreator
  | NEW innerCreator
  | SUPER superSuffix
  | explicitGenericInvocation
  ;
nonterminal_023
  : INC
  | DEC
  ;
nonterminal_036
  : ASSIGN
  | ADD_ASSIGN
  | SUB_ASSIGN
  | MUL_ASSIGN
  | DIV_ASSIGN
  | AND_ASSIGN
  | OR_ASSIGN
  | XOR_ASSIGN
  | RSHIFT_ASSIGN
  | URSHIFT_ASSIGN
  | LSHIFT_ASSIGN
  | MOD_ASSIGN
  ;
nonterminal_042
  : LBRACK RBRACK
  ;
nonterminal_041_list
  : nonterminal_042
  | nonterminal_041_list nonterminal_042
  ;
nonterminal_047
  : LBRACK expression RBRACK
  ;
nonterminal_046_list
  : nonterminal_047
  | nonterminal_046_list nonterminal_047
  ;
nonterminal_050
  : RBRACK nonterminal_041_list arrayInitializer
  | RBRACK arrayInitializer
  | expression RBRACK nonterminal_046_list nonterminal_041_list
  | expression RBRACK nonterminal_046_list expression RBRACK nonterminal_046_list nonterminal_041_list
  | expression RBRACK nonterminal_046_list expression RBRACK nonterminal_046_list
  | expression RBRACK nonterminal_041_list
  | expression RBRACK
  ;
nonterminal_051_list
  : interfaceMethodModifier
  | nonterminal_051_list interfaceMethodModifier
  ;
nonterminal_052_list
  : annotation
  | nonterminal_052_list annotation
  ;
nonterminal_053
  : typeTypeOrVoid
  | typeParameters nonterminal_052_list typeTypeOrVoid
  | typeParameters typeTypeOrVoid
  ;
nonterminal_056
  : THROWS qualifiedNameList
  ;
