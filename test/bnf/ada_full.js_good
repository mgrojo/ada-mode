// generated from ada_full.wy -*- buffer-read-only:t js-indent-level:3 -*-

// 
// --  Copyright (C) 2013 - 2023 Free Software Foundation, Inc.
// 
// --  This program is free software; you can redistribute it and/or
// --  modify it under the terms of the GNU General Public License as
// --  published by the Free Software Foundation; either version 3, or (at
// --  your option) any later version.
// --
// --  This software is distributed in the hope that it will be useful,
// --  but WITHOUT ANY WARRANTY; without even the implied warranty of
// --  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
// --  General Public License for more details.
// --
// --  You should have received a copy of the GNU General Public License
// --  along with GNU Emacs.  If not, see <https://www.gnu.org/licenses/>.
const reserved = regex => token(prec(2, new RegExp(regex)));
const caseInsensitive = word => word.split('') .map(letter => `[${letter}${letter.toUpperCase()}]`) .join('');
const reservedInsensitive = word => alias(reserved(caseInsensitive(word)), word) ;

const GNAT_Char_Coding = ("[\""[0-9A-Fa-f]+"\"]");
module.exports = grammar({
   name: 'Ada_Full',

   precedences: () => [
     [
       'membership_choice_list',
       'right',
     ],
   ],

   rules: {
      compilation: $ => choice($.compilation_unit, seq($.compilation, $.compilation_unit)),

      ABORT: $ => reservedInsensitive('abort'),

      ABS: $ => reservedInsensitive('abs'),

      ABSTRACT: $ => reservedInsensitive('abstract'),

      ACCEPT: $ => reservedInsensitive('accept'),

      ACCESS: $ => reservedInsensitive('access'),

      ALIASED: $ => reservedInsensitive('aliased'),

      ALL: $ => reservedInsensitive('all'),

      AND: $ => reservedInsensitive('and'),

      ARRAY: $ => reservedInsensitive('array'),

      AT: $ => reservedInsensitive('at'),

      BEGIN: $ => reservedInsensitive('begin'),

      BODY: $ => reservedInsensitive('body'),

      CASE: $ => reservedInsensitive('case'),

      CONSTANT: $ => reservedInsensitive('constant'),

      DECLARE: $ => reservedInsensitive('declare'),

      DELAY: $ => reservedInsensitive('delay'),

      DELTA: $ => reservedInsensitive('delta'),

      DIGITS: $ => reservedInsensitive('digits'),

      DO: $ => reservedInsensitive('do'),

      ELSE: $ => reservedInsensitive('else'),

      ELSIF: $ => reservedInsensitive('elsif'),

      END: $ => reservedInsensitive('end'),

      ENTRY: $ => reservedInsensitive('entry'),

      EXCEPTION: $ => reservedInsensitive('exception'),

      EXIT: $ => reservedInsensitive('exit'),

      FOR: $ => reservedInsensitive('for'),

      FUNCTION: $ => reservedInsensitive('function'),

      GENERIC: $ => reservedInsensitive('generic'),

      GOTO: $ => reservedInsensitive('goto'),

      IF: $ => reservedInsensitive('if'),

      IN: $ => reservedInsensitive('in'),

      INTERFACE: $ => reservedInsensitive('interface'),

      IS: $ => reservedInsensitive('is'),

      LIMITED: $ => reservedInsensitive('limited'),

      LOOP: $ => reservedInsensitive('loop'),

      MOD: $ => reservedInsensitive('mod'),

      NEW: $ => reservedInsensitive('new'),

      NOT: $ => reservedInsensitive('not'),

      NULL: $ => reservedInsensitive('null'),

      OF: $ => reservedInsensitive('of'),

      OR: $ => reservedInsensitive('or'),

      OTHERS: $ => reservedInsensitive('others'),

      OUT: $ => reservedInsensitive('out'),

      OVERRIDING: $ => reservedInsensitive('overriding'),

      PACKAGE: $ => reservedInsensitive('package'),

      PARALLEL: $ => reservedInsensitive('parallel'),

      PRAGMA: $ => reservedInsensitive('pragma'),

      PRIVATE: $ => reservedInsensitive('private'),

      PROCEDURE: $ => reservedInsensitive('procedure'),

      PROTECTED: $ => reservedInsensitive('protected'),

      RAISE: $ => reservedInsensitive('raise'),

      RANGE: $ => reservedInsensitive('range'),

      RECORD: $ => reservedInsensitive('record'),

      REM: $ => reservedInsensitive('rem'),

      RENAMES: $ => reservedInsensitive('renames'),

      REQUEUE: $ => reservedInsensitive('requeue'),

      RETURN: $ => reservedInsensitive('return'),

      REVERSE: $ => reservedInsensitive('reverse'),

      SELECT: $ => reservedInsensitive('select'),

      SEPARATE: $ => reservedInsensitive('separate'),

      SOME: $ => reservedInsensitive('some'),

      SUBTYPE: $ => reservedInsensitive('subtype'),

      SYNCHRONIZED: $ => reservedInsensitive('synchronized'),

      TAGGED: $ => reservedInsensitive('tagged'),

      TASK: $ => reservedInsensitive('task'),

      TERMINATE: $ => reservedInsensitive('terminate'),

      THEN: $ => reservedInsensitive('then'),

      TYPE: $ => reservedInsensitive('type'),

      UNTIL: $ => reservedInsensitive('until'),

      USE: $ => reservedInsensitive('use'),

      WHEN: $ => reservedInsensitive('when'),

      WHILE: $ => reservedInsensitive('while'),

      WITH: $ => reservedInsensitive('with'),

      XOR: $ => reservedInsensitive('xor'),

      LEFT_PAREN: $ => "(",

      RIGHT_PAREN: $ => ")",

      LEFT_SQUARE_BRACKET: $ => "[",

      RIGHT_SQUARE_BRACKET: $ => "]",

      AMPERSAND: $ => "&",

      AT_SIGN: $ => "@",

      BAR: $ => "|",

      BOX: $ => "<>",

      COLON: $ => ":",

      COLON_EQUAL: $ => ":=",

      COMMA: $ => ",",

      DOT: $ => ".",

      DOT_DOT: $ => "..",

      EQUAL: $ => "=",

      EQUAL_GREATER: $ => "=>",

      GREATER: $ => ">",

      GREATER_EQUAL: $ => ">=",

      GREATER_GREATER: $ => ">>",

      LESS: $ => "<",

      LESS_EQUAL: $ => "<=",

      LESS_LESS: $ => "<<",

      MINUS: $ => "-",

      PLUS: $ => "+",

      SEMICOLON: $ => ";",

      SLASH: $ => "/",

      SLASH_EQUAL: $ => "/=",

      STAR: $ => "*",

      STAR_STAR: $ => "**",

      tick: $ => "'",

      NUMERIC_LITERAL: $ => /([0-9])|([0-9_]+([.][0-9]+)?([eE][0-9_-]+)?)|([0-9]+"#"[0-9a-fA-F._-]+"#")/,

      COMMENT: $ => token(seq("--", /.*/)),

      GNAT_PREP_IF: $ => reservedInsensitive("#if"),

      GNAT_PREP_ELSIF: $ => reservedInsensitive("#elsif"),

      GNAT_PREP_ELSE: $ => reservedInsensitive("#else"),

      GNAT_PREP_END: $ => reservedInsensitive("#end"),

      CONFLICT_MARK_A: $ => token(seq("<<<<<<<", /.*/)),

      CONFLICT_MARK_B: $ => token(seq(">>>>>>>", /.*/)),

      CONFLICT_MARK_END: $ => token(seq("=======", /.*/)),

      IDENTIFIER: $ => new RegExp("([a-zA-Z\u{80}-\u{10FFFF}]|" + GNAT_Char_Coding + ")([0-9a-zA-Z_\u{80}-\u{10FFFF}]|" + GNAT_Char_Coding + ")*", "u"),

      word: $ => $.IDENTIFIER,

      STRING_LITERAL: $ => /"(""|[^\"])*"/u,

      CHARACTER_LITERAL: $ => /'.'/u,

      gnatprep_declarative_if_statement: $ => seq($.GNAT_PREP_IF, $.expression, $.THEN, repeat($.declarative_item_pragma), repeat(seq($.GNAT_PREP_ELSIF, $.expression, $.THEN, repeat1($.declarative_item_pragma))), optional(seq($.GNAT_PREP_ELSE, repeat($.declarative_item_pragma))), $.GNAT_PREP_END, $.IF, ';'),

      gnatprep_if_statement: $ => seq($.GNAT_PREP_IF, $.expression, $.THEN, repeat($.declarative_item_pragma), repeat(seq($.GNAT_PREP_ELSIF, $.expression, $.THEN, repeat1($.declarative_item_pragma))), optional(seq($.GNAT_PREP_ELSE, repeat($.declarative_item_pragma))), $.GNAT_PREP_END, $.IF, ';'),

      conditional_quantified_expression: $ => choice($.if_expression, $.case_expression, $.quantified_expression),

      pragma_argument_association_list: $ => choice($.pragma_argument_association, seq($.pragma_argument_association_list, ',', $.pragma_argument_association)),

      pragma_g: $ => choice(seq($.PRAGMA, $.IDENTIFIER, optional(seq('(', $.pragma_argument_association_list, ')')), ';'), seq($.PRAGMA, $.IDENTIFIER, optional(seq('(', $.conditional_quantified_expression, ')')), ';')),

      pragma_argument_association: $ => seq(optional(seq($.aspect_mark, '=>')), $.expression),

      basic_declaration: $ => choice($.type_declaration, $.subtype_declaration, $.object_declaration, $.number_declaration, $.subprogram_declaration, $.abstract_subprogram_declaration, $.null_procedure_declaration, $.expression_function_declaration, $.package_declaration, $.renaming_declaration, $.exception_declaration, $.generic_declaration, $.generic_instantiation),

      type_declaration: $ => choice($.full_type_declaration, $.incomplete_type_declaration, $.private_type_declaration, $.private_extension_declaration),

      full_type_declaration: $ => choice(seq($.TYPE, field('defining_identifier', $.IDENTIFIER), optional($.known_discriminant_part), $.IS, $.type_definition, optional($.aspect_specification), ';'), $.task_type_declaration, $.protected_type_declaration),

      type_definition: $ => choice($.enumeration_type_definition, $.integer_type_definition, $.real_type_definition, $.array_type_definition, $.record_type_definition, $.access_type_definition, $.derived_type_definition, $.interface_type_definition),

      subtype_declaration: $ => seq($.SUBTYPE, field('subtype_defining_identifier', $.IDENTIFIER), $.IS, $.subtype_indication, optional($.aspect_specification), ';'),

      subtype_indication: $ => seq(optional($.null_exclusion), field('subtype_mark', $.name_not_function_call), optional($.constraint)),

      constraint: $ => choice($.scalar_constraint, $.index_constraint, $.discriminant_constraint),

      scalar_constraint: $ => choice($.range_constraint, $.digits_constraint, $.delta_constraint),

      assign_value: $ => seq(':=', $.expression),

      object_declaration: $ => choice(seq($.defining_identifier_list, ':', optional($.ALIASED), optional($.CONSTANT), choice($.subtype_indication, $.access_definition, $.array_type_definition), optional($.assign_value), optional($.aspect_specification), ';'), $.single_task_declaration, $.single_protected_declaration),

      defining_identifier_list: $ => choice(field('defining_identifier', $.IDENTIFIER), seq($.defining_identifier_list, ',', field('defining_identifier', $.IDENTIFIER))),

      number_declaration: $ => seq($.defining_identifier_list, ':', $.CONSTANT, $.assign_value, ';'),

      derived_type_definition: $ => seq(optional($.ABSTRACT), optional($.LIMITED), $.NEW, field('parent_subtype_indication', $.subtype_indication), optional(seq(optional(seq($.AND, $.interface_list)), $.record_extension_part))),

      range_constraint: $ => seq($.RANGE, $.range_g),

      range_g: $ => choice(seq($.name, $.tick, $.range_attribute_designator), seq($.simple_expression, '..', $.simple_expression)),

      enumeration_literal_list: $ => seq($.enumeration_literal_specification, repeat(seq(',', $.enumeration_literal_specification))),

      enumeration_type_definition: $ => seq('(', $.enumeration_literal_list, ')'),

      enumeration_literal_specification: $ => choice(field('defining_identifier', $.IDENTIFIER), field('defining_character_literal', $.CHARACTER_LITERAL)),

      integer_type_definition: $ => choice($.signed_integer_type_definition, $.modular_type_definition),

      signed_integer_type_definition: $ => seq($.RANGE, field('static_simple_expression', $.simple_expression), '..', field('static_simple_expression', $.simple_expression)),

      modular_type_definition: $ => seq($.MOD, field('static_expression', $.expression)),

      real_type_definition: $ => choice($.floating_point_definition, $.fixed_point_definition),

      floating_point_definition: $ => seq($.DIGITS, $.expression, optional($.real_range_specification)),

      real_range_specification: $ => seq($.RANGE, field('static_simple_expression', $.simple_expression), '..', field('static_simple_expression', $.simple_expression)),

      fixed_point_definition: $ => choice($.ordinary_fixed_point_definition, $.decimal_fixed_point_definition),

      ordinary_fixed_point_definition: $ => seq($.DELTA, field('static_expression', $.expression), $.real_range_specification),

      decimal_fixed_point_definition: $ => seq($.DELTA, field('static_expression', $.expression), $.DIGITS, field('static_expression', $.expression), optional($.real_range_specification)),

      digits_constraint: $ => seq($.DIGITS, field('static_simple_expression', $.simple_expression), optional($.range_constraint)),

      array_type_definition: $ => choice(seq($.ARRAY, '(', $.index_subtype_definition_list, ')', $.OF, $.component_definition), seq($.ARRAY, '(', $.discrete_subtype_definition_list, ')', $.OF, $.component_definition)),

      index_subtype_definition_list: $ => seq($.index_subtype_definition, repeat(seq(',', $.index_subtype_definition))),

      index_subtype_definition: $ => seq(field('subtype_mark', $.name), $.RANGE, '<>'),

      discrete_subtype_definition_list: $ => seq($.discrete_subtype_definition, repeat(seq(',', $.discrete_subtype_definition))),

      discrete_subtype_definition: $ => choice(field('discrete_subtype_indication', $.subtype_indication), $.range_g),

      component_definition: $ => choice(seq(optional($.ALIASED), $.subtype_indication), seq(optional($.ALIASED), $.access_definition)),

      index_constraint: $ => seq('(', $.discrete_range, repeat(seq(',', $.discrete_range)), ')'),

      discrete_range: $ => choice(field('discrete_subtype_indication', $.subtype_indication), $.range_g),

      discriminant_part: $ => choice($.unknown_discriminant_part, $.known_discriminant_part),

      unknown_discriminant_part: $ => seq('(', '<>', ')'),

      discriminant_specification_list: $ => seq($.discriminant_specification, repeat(seq(';', $.discriminant_specification))),

      known_discriminant_part: $ => seq('(', $.discriminant_specification_list, ')'),

      discriminant_specification: $ => choice(seq($.defining_identifier_list, ':', optional($.null_exclusion), field('subtype_mark', $.name), optional($.assign_value)), seq($.defining_identifier_list, ':', $.access_definition, optional($.assign_value))),

      discriminant_constraint: $ => choice($.parenthesized_expression, seq('(', $.discriminant_association, repeat(seq(',', $.discriminant_association)), ')')),

      discriminant_association: $ => seq(optional(seq($.name_for_component_choice, repeat(seq('|', $.name_for_component_choice)), '=>')), $.expression),

      record_type_definition: $ => seq(optional(seq(optional($.ABSTRACT), $.TAGGED)), optional($.LIMITED), $.record_definition),

      record_definition: $ => choice(seq($.RECORD, $.component_list, $.END, $.RECORD, optional($.IDENTIFIER)), seq($.NULL, $.RECORD)),

      component_list: $ => choice(seq($.component_item, repeat($.component_item)), seq(repeat($.component_item), $.variant_part), seq($.NULL, ';')),

      component_item: $ => choice($.component_declaration, $.aspect_clause, $.pragma_g),

      component_declaration: $ => seq($.defining_identifier_list, ':', $.component_definition, optional($.assign_value), optional($.aspect_specification), ';'),

      variant_list: $ => choice($.variant, seq($.variant_list, $.variant)),

      variant_part: $ => seq($.CASE, $.IDENTIFIER, $.IS, $.variant_list, $.END, $.CASE, ';'),

      variant: $ => seq($.WHEN, $.discrete_choice_list, '=>', $.component_list),

      discrete_choice_list: $ => choice($.discrete_choice, seq($.discrete_choice_list, '|', $.discrete_choice)),

      discrete_choice: $ => choice($.expression, $.subtype_indication, $.range_g, $.OTHERS),

      record_extension_part: $ => seq($.WITH, $.record_definition),

      abstract_subprogram_declaration: $ => seq(optional($.overriding_indicator), $.subprogram_specification, $.IS, $.ABSTRACT, optional($.aspect_specification), ';'),

      interface_type_definition: $ => seq(optional(choice($.LIMITED, $.TASK, $.PROTECTED, $.SYNCHRONIZED)), $.INTERFACE, optional(seq($.AND, $.interface_list))),

      interface_list: $ => choice($.name, seq($.interface_list, $.AND, $.name)),

      access_type_definition: $ => choice(seq(optional($.null_exclusion), $.access_to_object_definition), seq(optional($.null_exclusion), $.access_to_subprogram_definition)),

      access_to_object_definition: $ => seq($.ACCESS, optional($.general_access_modifier), $.subtype_indication),

      general_access_modifier: $ => choice($.ALL, $.CONSTANT),

      access_to_subprogram_definition: $ => choice(seq($.ACCESS, optional($.PROTECTED), $.PROCEDURE, optional($.formal_part)), seq($.ACCESS, optional($.PROTECTED), $.FUNCTION, $.parameter_and_result_profile)),

      null_exclusion: $ => seq($.NOT, $.NULL),

      access_definition: $ => choice(seq(optional($.null_exclusion), $.ACCESS, optional($.CONSTANT), $.name), seq(optional($.null_exclusion), $.ACCESS, optional($.PROTECTED), $.PROCEDURE, optional($.formal_part)), seq(optional($.null_exclusion), $.ACCESS, optional($.PROTECTED), $.FUNCTION, $.parameter_and_result_profile)),

      incomplete_type_declaration: $ => seq($.TYPE, field('defining_identifier', $.IDENTIFIER), optional($.discriminant_part), optional(seq($.IS, $.TAGGED)), ';'),

      declarative_item: $ => choice($.basic_declarative_item, $.proper_body, $.body_stub),

      declarative_item_pragma: $ => choice($.declarative_item, $.pragma_g, $.gnatprep_declarative_if_statement),

      non_empty_declarative_part: $ => repeat1($.declarative_item_pragma),

      basic_declarative_item: $ => choice($.basic_declaration, $.aspect_clause, $.use_clause),

      proper_body: $ => choice($.subprogram_body, $.package_body, $.task_body, $.protected_body),

      name_not_function_call: $ => choice($.IDENTIFIER, $.STRING_LITERAL, $.explicit_dereference, $.slice, $.selected_component, $.attribute_reference, $.CHARACTER_LITERAL, $.qualified_expression, $.target_name),

      name: $ => choice($.name_not_function_call, $.function_call),

      explicit_dereference: $ => seq($.name, '.', $.ALL),

      slice: $ => seq($.name, '(', $.discrete_range, ')'),

      selected_component: $ => choice(seq($.name, '.', $.IDENTIFIER), seq($.name, '.', $.STRING_LITERAL), seq($.name, '.', $.CHARACTER_LITERAL)),

      attribute_reference: $ => choice(seq($.name, $.tick, $.attribute_designator), $.reduction_attribute_reference),

      attribute_designator: $ => choice($.IDENTIFIER, $.ACCESS, $.DELTA, $.DIGITS, $.MOD),

      range_attribute_designator: $ => seq($.RANGE, optional(seq('(', $.expression, ')'))),

      aggregate: $ => choice($.record_aggregate, $.extension_aggregate, $.array_aggregate, $.delta_aggregate),

      record_aggregate: $ => seq('(', $.record_component_association_list, ')'),

      record_component_association_list: $ => choice(seq($.record_component_association, repeat(seq(',', $.record_component_association))), seq($.NULL, $.RECORD)),

      record_component_association: $ => choice(seq($.component_choice_list, $.assoc_expression), $.expression),

      name_for_component_choice: $ => choice($.IDENTIFIER, $.STRING_LITERAL),

      component_choice_list: $ => choice($.OTHERS, seq($.name_for_component_choice, repeat(seq('|', $.name_for_component_choice)))),

      extension_aggregate: $ => seq('(', $.expression, $.WITH, $.record_component_association_list, ')'),

      array_aggregate: $ => choice($.positional_array_aggregate, $.null_array_aggregate, $.named_array_aggregate),

      expression_list: $ => choice($.expression, seq($.expression_list, ',', $.expression)),

      positional_array_aggregate: $ => choice(seq('(', $.expression, ',', $.expression_list, ')'), seq('(', $.expression_list, ',', $.OTHERS, $.assoc_expression, ')'), seq('[', $.expression_list, optional(seq(',', $.OTHERS, $.assoc_expression)), ']')),

      null_array_aggregate: $ => seq('[', ']'),

      named_array_aggregate: $ => choice(seq('(', $.array_component_association_list, ')'), seq('[', $.array_component_association_list, ']')),

      array_component_association_list: $ => seq($.array_component_association, repeat(seq(',', $.array_component_association))),

      array_component_association: $ => choice(seq($.discrete_choice_list, $.assoc_expression), $.iterated_element_association),

      delta_aggregate: $ => choice($.record_delta_aggregate, $.array_delta_aggregate),

      record_delta_aggregate: $ => seq('(', $.expression, $.WITH, $.DELTA, $.record_component_association_list, ')'),

      array_delta_aggregate: $ => choice(seq('(', $.expression, $.WITH, $.DELTA, $.array_component_association_list, ')'), seq('[', $.expression, $.WITH, $.DELTA, $.array_component_association_list, ']')),

      iterated_element_association: $ => seq($.FOR, choice($.loop_parameter_specification, $.iterator_specification), optional(seq($.USE, $.expression)), $.assoc_expression),

      expression: $ => choice(seq($.relation, repeat(seq($.AND, optional($.THEN), $.relation))), seq($.relation, repeat(seq($.OR, optional($.ELSE), $.relation))), seq($.relation, repeat(seq($.XOR, $.relation)))),

      relation: $ => choice(seq($.simple_expression, optional(seq($.relational_operator, $.simple_expression))), seq($.simple_expression, optional($.NOT), $.IN, $.membership_choice_list), $.raise_expression),

      membership_choice_list: $ => seq($.membership_choice, repeat(seq('|', $.membership_choice))),

      membership_choice: $ => choice($.simple_expression, $.range_g),

      simple_expression: $ => seq(optional($.unary_adding_operator), $.term, repeat(seq($.binary_adding_operator, $.term))),

      term: $ => seq($.factor, repeat(seq($.multiplying_operator, $.factor))),

      factor: $ => choice(seq($.primary, optional(seq('**', $.primary))), seq($.ABS, $.primary), seq($.NOT, $.primary)),

      primary: $ => choice($.NUMERIC_LITERAL, $.NULL, $.aggregate, $.name, $.allocator, $.parenthesized_expression),

      parenthesized_expression_1: $ => choice($.expression, $.conditional_expression, $.quantified_expression, $.declare_expression),

      parenthesized_expression: $ => seq('(', $.parenthesized_expression_1, ')'),

      relational_operator: $ => choice('=', '/=', '<', '<=', '>', '>='),

      binary_adding_operator: $ => choice('+', '-', '&'),

      unary_adding_operator: $ => choice('+', '-'),

      multiplying_operator: $ => choice('*', '/', $.MOD, $.REM),

      conditional_expression: $ => choice($.if_expression, $.case_expression),

      elsif_expression_item: $ => seq($.ELSIF, field('condition', $.expression), $.THEN, $.expression),

      if_expression: $ => seq($.IF, field('condition', $.expression), $.THEN, $.expression, repeat($.elsif_expression_item), optional(seq($.ELSE, $.expression))),

      case_expression_alternative_list: $ => choice($.case_expression_alternative, seq($.case_expression_alternative_list, ',', $.case_expression_alternative)),

      case_expression: $ => seq($.CASE, $.expression, $.IS, $.case_expression_alternative_list),

      case_expression_alternative: $ => seq($.WHEN, $.discrete_choice_list, '=>', $.expression),

      quantified_expression: $ => seq($.FOR, $.quantifier, choice($.loop_parameter_specification, $.iterator_specification), $.assoc_expression),

      quantifier: $ => choice($.ALL, $.SOME),

      declare_expression: $ => seq($.DECLARE, repeat($.declare_item), $.BEGIN, $.expression),

      declare_item: $ => choice($.object_declaration, $.object_renaming_declaration),

      reduction_attribute_reference: $ => seq($.value_sequence, $.tick, $.reduction_attribute_designator),

      value_sequence: $ => seq('[', optional(seq($.PARALLEL, optional(seq('(', $.chunk_specification, ')')))), $.iterated_element_association, ']'),

      reduction_attribute_designator: $ => seq($.IDENTIFIER, '(', $.reduction_specification, ')'),

      reduction_specification: $ => seq($.name, ',', $.expression),

      qualified_expression: $ => seq($.name, $.tick, choice($.parenthesized_expression, $.aggregate)),

      allocator: $ => seq($.NEW, optional($.subpool_specification), $.subtype_indication_paren_constraint),

      subtype_indication_paren_constraint: $ => choice(seq(optional($.null_exclusion), $.name), seq(optional($.null_exclusion), $.name, $.index_constraint)),

      subpool_specification: $ => seq('(', $.name, ')'),

      sequence_of_statements: $ => seq(repeat1($.statement), repeat($.label)),

      statement: $ => seq(repeat($.label), choice($.simple_statement, $.compound_statement)),

      simple_statement: $ => choice($.null_statement, $.assignment_statement, $.exit_statement, $.goto_statement, $.procedure_call_statement, $.simple_return_statement, $.requeue_statement, $.delay_statement, $.abort_statement, $.raise_statement, $.pragma_g),

      compound_statement: $ => choice($.if_statement, $.gnatprep_if_statement, $.case_statement, $.loop_statement, $.block_statement, $.extended_return_statement, $.parallel_block_statement, $.accept_statement, $.select_statement),

      null_statement: $ => seq($.NULL, ';'),

      label: $ => seq('<<', $.statement_identifier, '>>'),

      statement_identifier: $ => $.IDENTIFIER,

      assignment_statement: $ => seq($.name, $.assign_value, ';'),

      target_name: $ => '@',

      elsif_statement_item: $ => seq($.ELSIF, $.expression, $.THEN, $.sequence_of_statements),

      elsif_statement_list: $ => choice($.elsif_statement_item, seq($.elsif_statement_list, $.elsif_statement_item)),

      if_statement: $ => seq($.IF, field('condition', $.expression), $.THEN, $.sequence_of_statements, optional($.elsif_statement_list), optional(seq($.ELSE, $.sequence_of_statements)), $.END, $.IF, ';'),

      case_statement_alternative_list: $ => choice($.case_statement_alternative, seq($.case_statement_alternative_list, $.case_statement_alternative)),

      case_statement: $ => seq($.CASE, $.expression, $.IS, $.case_statement_alternative_list, $.END, $.CASE, ';'),

      case_statement_alternative: $ => seq($.WHEN, $.discrete_choice_list, '=>', $.sequence_of_statements),

      loop_statement: $ => seq(optional(seq($.statement_identifier, ':')), optional($.iteration_scheme), $.LOOP, $.sequence_of_statements, $.END, $.LOOP, optional($.IDENTIFIER), ';'),

      iteration_scheme: $ => choice(seq($.WHILE, field('condition', $.expression)), seq($.FOR, $.loop_parameter_specification), seq($.FOR, $.iterator_specification), seq(optional($.PARALLEL), $.FOR, $.procedural_iterator), seq($.PARALLEL, optional(seq('(', $.chunk_specification, ')')), $.FOR, $.loop_parameter_specification), seq($.PARALLEL, optional(seq('(', $.chunk_specification, ')')), $.FOR, $.iterator_specification)),

      chunk_specification: $ => choice(field('integer_simple_expression', $.simple_expression), seq(field('defining_identifier', $.IDENTIFIER), $.IN, $.discrete_subtype_definition)),

      loop_parameter_specification: $ => seq(field('defining_identifier', $.IDENTIFIER), $.IN, optional($.REVERSE), $.discrete_subtype_definition, optional($.iterator_filter)),

      iterator_filter: $ => seq($.WHEN, field('condition', $.expression)),

      in_of: $ => choice($.IN, $.OF),

      iterator_specification: $ => seq(field('defining_identifier', $.IDENTIFIER), optional(seq(':', $.loop_parameter_subtype_indication)), $.in_of, optional($.REVERSE), $.name, optional($.iterator_filter)),

      loop_parameter_subtype_indication: $ => choice($.subtype_indication, $.access_definition),

      procedural_iterator: $ => seq($.iterator_parameter_specification, $.OF, $.function_call, optional($.iterator_filter)),

      iterator_parameter_specification: $ => choice($.formal_part, seq('(', $.defining_identifier_list, ')')),

      block_statement: $ => seq(optional(seq($.statement_identifier, ':')), optional(seq($.DECLARE, optional($.non_empty_declarative_part))), $.BEGIN, $.handled_sequence_of_statements, $.END, optional($.IDENTIFIER), ';'),

      statement_AND_list: $ => choice($.handled_sequence_of_statements, seq($.statement_AND_list, $.AND, $.handled_sequence_of_statements)),

      parallel_block_statement: $ => seq($.PARALLEL, $.DO, $.handled_sequence_of_statements, $.AND, $.statement_AND_list, $.END, $.DO, ';'),

      exit_statement: $ => seq($.EXIT, optional($.name), optional(seq($.WHEN, field('condition', $.expression))), ';'),

      goto_statement: $ => seq($.GOTO, $.name, ';'),

      subprogram_declaration: $ => seq(optional($.overriding_indicator), $.subprogram_specification, optional($.aspect_specification), ';'),

      subprogram_specification: $ => choice($.procedure_specification, $.function_specification),

      procedure_specification: $ => seq($.PROCEDURE, $.name, optional($.formal_part)),

      function_specification: $ => seq($.FUNCTION, $.name, $.parameter_and_result_profile),

      result_profile: $ => choice(seq($.RETURN, optional($.null_exclusion), $.name), seq($.RETURN, $.access_definition)),

      parameter_and_result_profile: $ => seq(optional($.formal_part), $.result_profile),

      parameter_specification_list: $ => seq($.parameter_specification, repeat(seq(';', $.parameter_specification))),

      formal_part: $ => seq('(', $.parameter_specification_list, ')'),

      parameter_specification: $ => choice(seq($.defining_identifier_list, ':', optional($.ALIASED), optional($.non_empty_mode), optional($.null_exclusion), $.name, optional($.assign_value)), seq($.defining_identifier_list, ':', $.access_definition, optional($.assign_value))),

      non_empty_mode: $ => choice($.IN, seq($.IN, $.OUT), $.OUT),

      global_aspect_definition: $ => choice(seq($.global_mode, $.global_designator), seq('(', $.global_aspect_element, repeat(seq(',', $.global_aspect_element)), ')'), $.extended_global_aspect_definition),

      global_aspect_element: $ => choice(seq($.global_mode, $.name_list), $.extended_global_aspect_element),

      global_mode: $ => choice($.non_empty_mode, $.extended_global_mode),

      global_designator: $ => choice($.ALL, $.SYNCHRONIZED, $.name),

      subprogram_body: $ => seq(optional($.overriding_indicator), $.subprogram_specification, optional($.aspect_specification), $.IS, optional($.non_empty_declarative_part), $.BEGIN, $.handled_sequence_of_statements, $.END, optional($.name), ';'),

      procedure_call_statement: $ => choice(seq(field('name', $.name_not_function_call), ';'), seq($.function_call, ';')),

      function_call: $ => seq(field('name', $.name), $.actual_parameter_part),

      parameter_association_list: $ => choice($.parameter_association, seq($.parameter_association_list, ',', $.parameter_association)),

      actual_parameter_part: $ => choice(seq('(', $.parameter_association_list, ')'), seq('(', $.conditional_expression, ')'), seq('(', $.quantified_expression, ')'), seq('(', $.declare_expression, ')')),

      assoc_expression: $ => choice(seq('=>', $.expression), seq('=>', '<>')),

      parameter_association: $ => choice(seq($.component_choice_list, $.assoc_expression), $.expression, '<>'),

      simple_return_statement: $ => seq($.RETURN, optional($.expression), ';'),

      extended_return_object_declaration: $ => seq(field('defining_identifier', $.IDENTIFIER), ':', optional($.ALIASED), optional($.CONSTANT), $.return_subtype_indication, optional($.assign_value)),

      extended_return_statement: $ => seq($.RETURN, $.extended_return_object_declaration, optional(seq($.DO, $.handled_sequence_of_statements, $.END, $.RETURN)), ';'),

      return_subtype_indication: $ => choice($.subtype_indication, $.access_definition),

      null_procedure_declaration: $ => seq(optional($.overriding_indicator), $.procedure_specification, $.IS, $.NULL, optional($.aspect_specification), ';'),

      expression_function_declaration: $ => seq(optional($.overriding_indicator), $.function_specification, $.IS, choice($.aggregate, $.parenthesized_expression), optional($.aspect_specification), ';'),

      package_declaration: $ => seq($.package_specification, ';'),

      basic_declarative_item_pragma: $ => choice($.basic_declarative_item, $.pragma_g),

      package_specification: $ => seq($.PACKAGE, field('name', $.name), optional($.aspect_specification), $.IS, repeat($.basic_declarative_item_pragma), optional(seq($.PRIVATE, repeat($.basic_declarative_item_pragma))), $.END, optional($.name)),

      package_body: $ => seq($.PACKAGE, $.BODY, field('name', $.name), optional($.aspect_specification), $.IS, optional($.non_empty_declarative_part), optional(seq($.BEGIN, $.handled_sequence_of_statements)), $.END, optional($.name), ';'),

      private_type_declaration: $ => seq($.TYPE, field('defining_identifier', $.IDENTIFIER), optional($.discriminant_part), $.IS, optional(seq(optional($.ABSTRACT), $.TAGGED)), optional($.LIMITED), $.PRIVATE, optional($.aspect_specification), ';'),

      private_extension_declaration: $ => seq($.TYPE, field('defining_identifier', $.IDENTIFIER), optional($.discriminant_part), $.IS, optional($.ABSTRACT), optional(choice($.LIMITED, $.SYNCHRONIZED)), $.NEW, $.subtype_indication, optional(seq($.AND, $.interface_list)), $.WITH, $.PRIVATE, optional($.aspect_specification), ';'),

      overriding_indicator: $ => seq(optional($.NOT), $.OVERRIDING),

      use_clause: $ => choice($.use_package_clause, $.use_type_clause),

      name_list: $ => seq($.name, repeat(seq(',', $.name))),

      use_package_clause: $ => seq($.USE, $.name_list, ';'),

      use_type_clause: $ => seq($.USE, optional($.ALL), $.TYPE, $.name_list, ';'),

      renaming_declaration: $ => choice($.object_renaming_declaration, $.exception_renaming_declaration, $.package_renaming_declaration, $.subprogram_renaming_declaration, $.generic_renaming_declaration),

      object_renaming_declaration: $ => choice(seq(field('defining_identifier', $.IDENTIFIER), optional(seq(':', optional($.null_exclusion), $.name)), $.RENAMES, $.name, optional($.aspect_specification), ';'), seq(field('defining_identifier', $.IDENTIFIER), ':', $.access_definition, $.RENAMES, $.name, optional($.aspect_specification), ';')),

      exception_renaming_declaration: $ => seq(field('defining_identifier', $.IDENTIFIER), ':', $.EXCEPTION, $.RENAMES, $.name, optional($.aspect_specification), ';'),

      package_renaming_declaration: $ => seq($.PACKAGE, $.name, $.RENAMES, $.name, optional($.aspect_specification), ';'),

      subprogram_renaming_declaration: $ => seq(optional($.overriding_indicator), $.subprogram_specification, $.RENAMES, $.name, optional($.aspect_specification), ';'),

      generic_renaming_declaration: $ => choice(seq($.GENERIC, $.PACKAGE, $.name, $.RENAMES, $.name, optional($.aspect_specification), ';'), seq($.GENERIC, $.PROCEDURE, $.name, $.RENAMES, $.name, optional($.aspect_specification), ';'), seq($.GENERIC, $.FUNCTION, $.name, $.RENAMES, $.name, optional($.aspect_specification), ';')),

      task_type_declaration: $ => seq($.TASK, $.TYPE, field('defining_identifier', $.IDENTIFIER), optional($.known_discriminant_part), optional($.aspect_specification), optional(seq($.IS, optional(seq($.NEW, $.interface_list, $.WITH)), $.task_definition)), ';'),

      single_task_declaration: $ => seq($.TASK, $.IDENTIFIER, optional($.aspect_specification), optional(seq($.IS, optional(seq($.NEW, $.interface_list, $.WITH)), $.task_definition)), ';'),

      task_item_list: $ => repeat1($.task_item),

      task_definition: $ => seq($.task_item_list, optional(seq($.PRIVATE, $.task_item_list)), $.END, optional($.IDENTIFIER)),

      task_item: $ => choice($.entry_declaration, $.aspect_clause, $.pragma_g),

      task_body: $ => seq($.TASK, $.BODY, $.IDENTIFIER, optional($.aspect_specification), $.IS, optional($.non_empty_declarative_part), $.BEGIN, $.handled_sequence_of_statements, $.END, optional($.IDENTIFIER), ';'),

      protected_type_declaration: $ => seq($.PROTECTED, $.TYPE, $.IDENTIFIER, optional($.known_discriminant_part), optional($.aspect_specification), $.IS, optional(seq($.NEW, $.interface_list, $.WITH)), $.protected_definition, ';'),

      single_protected_declaration: $ => seq($.PROTECTED, $.IDENTIFIER, optional($.aspect_specification), $.IS, optional(seq($.NEW, $.interface_list, $.WITH)), $.protected_definition, ';'),

      protected_operation_declaration_list: $ => repeat1($.protected_operation_declaration),

      protected_element_declaration_list: $ => repeat1($.protected_element_declaration),

      protected_definition: $ => seq(optional($.protected_operation_declaration_list), optional(seq($.PRIVATE, optional($.protected_element_declaration_list))), $.END, optional($.IDENTIFIER)),

      protected_operation_declaration: $ => choice($.subprogram_declaration, $.pragma_g, $.entry_declaration, $.aspect_clause),

      protected_element_declaration: $ => choice($.protected_operation_declaration, $.component_declaration),

      protected_operation_item_list: $ => repeat1($.protected_operation_item),

      protected_body: $ => seq($.PROTECTED, $.BODY, $.IDENTIFIER, optional($.aspect_specification), $.IS, optional($.protected_operation_item_list), $.END, optional($.IDENTIFIER), ';'),

      protected_operation_item: $ => choice($.subprogram_declaration, $.subprogram_body, $.null_procedure_declaration, $.expression_function_declaration, $.entry_body, $.aspect_clause),

      entry_declaration: $ => seq(optional($.overriding_indicator), $.ENTRY, $.IDENTIFIER, optional(seq('(', $.discrete_subtype_definition, ')')), optional($.formal_part), optional($.aspect_specification), ';'),

      accept_statement: $ => seq($.ACCEPT, $.IDENTIFIER, optional(seq('(', field('entry_index', $.expression), ')')), optional($.formal_part), optional(seq($.DO, $.handled_sequence_of_statements, $.END, optional($.IDENTIFIER))), ';'),

      entry_body: $ => seq($.ENTRY, $.IDENTIFIER, optional($.non_empty_entry_body_formal_part), optional($.aspect_specification), $.entry_barrier, $.IS, optional($.non_empty_declarative_part), $.BEGIN, $.handled_sequence_of_statements, $.END, optional($.IDENTIFIER), ';'),

      non_empty_entry_body_formal_part: $ => seq(optional(seq('(', $.entry_index_specification, ')')), field('parameter_profile', $.formal_part)),

      entry_barrier: $ => seq($.WHEN, field('condition', $.expression)),

      entry_index_specification: $ => seq($.FOR, $.IDENTIFIER, $.IN, $.discrete_subtype_definition),

      requeue_statement: $ => seq($.REQUEUE, field('name', $.name), optional(seq($.WITH, $.ABORT)), ';'),

      delay_statement: $ => choice($.delay_until_statement, $.delay_relative_statement),

      delay_until_statement: $ => seq($.DELAY, $.UNTIL, $.expression, ';'),

      delay_relative_statement: $ => seq($.DELAY, $.expression, ';'),

      select_statement: $ => choice($.selective_accept, $.timed_entry_call, $.conditional_entry_call, $.asynchronous_select),

      guard_select: $ => choice(seq($.guard, $.select_alternative), $.select_alternative),

      select_alternative_list: $ => seq($.guard_select, repeat(seq($.OR, $.guard_select))),

      selective_accept: $ => seq($.SELECT, $.select_alternative_list, optional(seq($.ELSE, $.sequence_of_statements)), $.END, $.SELECT, ';'),

      guard: $ => seq($.WHEN, field('condition', $.expression), '=>'),

      select_alternative: $ => choice($.accept_alternative, $.delay_alternative, $.terminate_alternative),

      accept_alternative: $ => seq($.accept_statement, optional($.sequence_of_statements)),

      delay_alternative: $ => seq($.delay_statement, optional($.sequence_of_statements)),

      terminate_alternative: $ => seq($.TERMINATE, ';'),

      timed_entry_call: $ => seq($.SELECT, $.entry_call_alternative, $.OR, $.delay_alternative, $.END, $.SELECT, ';'),

      entry_call_alternative: $ => seq($.procedure_call_statement, optional($.sequence_of_statements)),

      conditional_entry_call: $ => seq($.SELECT, $.entry_call_alternative, $.ELSE, $.sequence_of_statements, $.END, $.SELECT, ';'),

      asynchronous_select: $ => seq($.SELECT, $.triggering_alternative, $.THEN, $.ABORT, field('abortable_part', $.sequence_of_statements), $.END, $.SELECT, ';'),

      triggering_alternative: $ => choice(seq($.procedure_call_statement, optional($.sequence_of_statements)), seq($.delay_statement, optional($.sequence_of_statements))),

      abort_statement: $ => seq($.ABORT, $.name_list, ';'),

      compilation_unit: $ => choice($.with_clause, seq(optional($.PRIVATE), $.declarative_item), $.statement, $.subunit, $.entry_declaration),

      with_clause: $ => seq(optional($.LIMITED), optional($.PRIVATE), $.WITH, $.name_list, ';'),

      body_stub: $ => choice($.subprogram_body_stub, $.package_body_stub, $.task_body_stub, $.protected_body_stub),

      subprogram_body_stub: $ => seq(optional($.overriding_indicator), $.subprogram_specification, $.IS, $.SEPARATE, optional($.aspect_specification), ';'),

      package_body_stub: $ => seq($.PACKAGE, $.BODY, $.IDENTIFIER, $.IS, $.SEPARATE, optional($.aspect_specification), ';'),

      task_body_stub: $ => seq($.TASK, $.BODY, $.IDENTIFIER, $.IS, $.SEPARATE, optional($.aspect_specification), ';'),

      protected_body_stub: $ => seq($.PROTECTED, $.BODY, $.IDENTIFIER, $.IS, $.SEPARATE, optional($.aspect_specification), ';'),

      subunit: $ => seq($.SEPARATE, '(', field('parent_unit_name', $.name), ')', $.proper_body),

      exception_declaration: $ => seq($.defining_identifier_list, ':', $.EXCEPTION, optional($.aspect_specification), ';'),

      handled_sequence_of_statements: $ => seq($.sequence_of_statements, optional(seq($.EXCEPTION, repeat1($.exception_handler)))),

      exception_choice_list: $ => seq($.exception_choice, repeat(seq('|', $.exception_choice))),

      exception_handler: $ => choice(seq($.WHEN, optional(seq(field('choice_parameter_specification', $.IDENTIFIER), ':')), $.exception_choice_list, '=>', $.sequence_of_statements), $.pragma_g),

      exception_choice: $ => choice(field('exception_name', $.name), $.OTHERS),

      raise_statement: $ => choice(seq($.RAISE, ';'), seq($.RAISE, $.name, optional(seq($.WITH, field('string_expression', $.expression))), ';')),

      raise_expression: $ => seq($.RAISE, $.name, optional(seq($.WITH, field('string_simple_expression', $.simple_expression)))),

      generic_declaration: $ => choice($.generic_subprogram_declaration, $.generic_package_declaration),

      generic_subprogram_declaration: $ => seq($.generic_formal_part, $.subprogram_specification, optional($.aspect_specification), ';'),

      generic_package_declaration: $ => seq($.generic_formal_part, $.package_specification, ';'),

      generic_formal_part: $ => seq($.GENERIC, repeat($.generic_formal_parameter_declaration)),

      generic_formal_parameter_declaration: $ => choice($.formal_object_declaration, $.formal_type_declaration, $.formal_subprogram_declaration, $.formal_package_declaration, $.use_clause, $.pragma_g),

      generic_instantiation: $ => choice(seq($.PACKAGE, field('name', $.name), $.IS, $.NEW, field('generic_package_name', $.name), optional($.aspect_specification), ';'), seq(optional($.overriding_indicator), $.PROCEDURE, field('name', $.name), $.IS, $.NEW, field('generic_procedure_name', $.name), optional($.aspect_specification), ';'), seq(optional($.overriding_indicator), $.FUNCTION, field('name', $.name), $.IS, $.NEW, field('generic_function_name', $.name), optional($.aspect_specification), ';')),

      formal_object_declaration: $ => choice(seq(field('name', $.defining_identifier_list), ':', optional($.non_empty_mode), optional($.null_exclusion), field('subtype_mark', $.name), optional($.assign_value), optional($.aspect_specification), ';'), seq($.defining_identifier_list, ':', optional($.non_empty_mode), $.access_definition, optional($.assign_value), optional($.aspect_specification), ';')),

      formal_type_declaration: $ => choice($.formal_complete_type_declaration, $.formal_incomplete_type_declaration),

      formal_complete_type_declaration: $ => seq($.TYPE, field('defining_identifier', $.IDENTIFIER), optional($.discriminant_part), $.IS, $.formal_type_definition, optional(seq($.OR, $.USE, field('default_subtype_mark', $.name))), optional($.aspect_specification), ';'),

      formal_incomplete_type_declaration: $ => seq($.TYPE, field('defining_identifier', $.IDENTIFIER), optional($.discriminant_part), optional(seq($.IS, $.TAGGED)), optional(seq($.OR, $.USE, field('default_subtype_mark', $.name))), ';'),

      formal_type_definition: $ => choice($.formal_private_type_definition, $.formal_derived_type_definition, $.formal_discrete_type_definition, $.formal_signed_integer_type_definition, $.formal_modular_type_definition, $.formal_floating_point_definition, $.formal_ordinary_fixed_point_definition, $.formal_decimal_fixed_point_definition, $.formal_array_type_definition, $.formal_access_type_definition, $.formal_interface_type_definition),

      formal_private_type_definition: $ => seq(optional(seq(optional($.ABSTRACT), $.TAGGED)), optional($.LIMITED), $.PRIVATE),

      formal_derived_type_definition: $ => seq(optional($.ABSTRACT), optional(choice($.LIMITED, $.SYNCHRONIZED)), $.NEW, field('subtype_mark', $.name), optional(seq(optional(seq($.AND, $.interface_list)), $.WITH, $.PRIVATE))),

      formal_discrete_type_definition: $ => seq('(', '<>', ')'),

      formal_signed_integer_type_definition: $ => seq($.RANGE, '<>'),

      formal_modular_type_definition: $ => seq($.MOD, '<>'),

      formal_floating_point_definition: $ => seq($.DIGITS, '<>'),

      formal_ordinary_fixed_point_definition: $ => seq($.DELTA, '<>'),

      formal_decimal_fixed_point_definition: $ => seq($.DELTA, '<>', $.DIGITS, '<>'),

      formal_array_type_definition: $ => $.array_type_definition,

      formal_access_type_definition: $ => $.access_type_definition,

      formal_interface_type_definition: $ => $.interface_type_definition,

      formal_subprogram_declaration: $ => choice($.formal_concrete_subprogram_declaration, $.formal_abstract_subprogram_declaration),

      formal_concrete_subprogram_declaration: $ => seq($.WITH, $.subprogram_specification, optional(seq($.IS, $.subprogram_default)), optional($.aspect_specification), ';'),

      formal_abstract_subprogram_declaration: $ => seq($.WITH, $.subprogram_specification, $.IS, $.ABSTRACT, optional($.subprogram_default), optional($.aspect_specification), ';'),

      subprogram_default: $ => choice(field('default_name', $.name), '<>', $.NULL),

      formal_package_declaration: $ => seq($.WITH, $.PACKAGE, $.IDENTIFIER, $.IS, $.NEW, field('generic_package_name', $.name), optional($.aspect_specification), ';'),

      aspect_clause: $ => choice($.attribute_definition_clause, $.enumeration_representation_clause, $.record_representation_clause, $.at_clause),

      aspect_association: $ => seq($.aspect_mark, optional(seq('=>', $.aspect_definition))),

      aspect_mark_list: $ => seq($.aspect_association, repeat(seq(',', $.aspect_association))),

      aspect_specification: $ => seq($.WITH, $.aspect_mark_list),

      CLASS: $ => reservedInsensitive('class'),

      aspect_mark: $ => seq(field('aspect_identifier', $.IDENTIFIER), optional(seq($.tick, $.CLASS))),

      aspect_definition: $ => choice($.expression, $.global_aspect_definition),

      attribute_definition_clause: $ => seq($.FOR, field('local_name', $.name), $.tick, $.attribute_designator, $.USE, $.expression, ';'),

      enumeration_representation_clause: $ => seq($.FOR, field('first_subtype_local_name', $.name), $.USE, field('enumeration_aggregate', $.array_aggregate), ';'),

      record_representation_clause: $ => seq($.FOR, field('first_subtype_local_name', $.name), $.USE, $.RECORD, optional($.mod_clause), repeat($.component_clause), $.END, $.RECORD, optional(field('local_name', $.name)), ';'),

      component_clause: $ => seq(field('component_local_name', $.name), $.AT, field('position', $.expression), $.RANGE, field('first_bit', $.simple_expression), '..', field('last_bit', $.simple_expression), ';'),

      extended_global_aspect_definition: $ => choice(seq($.USE, choice($.formal_group_designator, field('formal_parameter_name', $.name))), seq($.DO, $.dispatching_operation_specifier)),

      extended_global_aspect_element: $ => choice(seq($.USE, $.formal_parameter_set), seq($.DO, $.dispatching_operation_set)),

      extended_global_mode: $ => seq($.OVERRIDING, $.non_empty_mode),

      formal_parameter_set: $ => choice($.formal_group_designator, field('formal_parameter_name', $.name_list)),

      formal_group_designator: $ => choice($.NULL, $.ALL),

      dispatching_operation_set: $ => seq($.dispatching_operation_specifier, repeat(seq(',', $.dispatching_operation_specifier))),

      dispatching_operation_specifier: $ => seq(field('dispatching_operation_name', $.name), '(', field('object_name', $.name), ')'),

      delta_constraint: $ => seq($.DELTA, field('static_simple_expression', $.simple_expression), optional($.range_constraint)),

      at_clause: $ => seq($.FOR, field('direct_name', $.IDENTIFIER), $.USE, $.AT, $.expression, ';'),

      mod_clause: $ => seq($.AT, $.MOD, $.expression, ';')
   },
   conflicts: $ => [
      // ??? Maybe we can merge these
      [$.null_procedure_declaration,$.subprogram_specification],
      [$.expression_function_declaration,$.subprogram_specification],

      // "'for' identifier * 'use'"  could also be "'for' name * 'use'" as
      // specified in at_clause.
      [$.at_clause,$.name],

      // 'case' '(' identifier . '=>' ...
      [$.name,$.component_choice_list],

      // 'case' '(' _name '(' _discrete_range ')' . '=>'
      [$.slice,$.discrete_range],

      // 'case' '(' expression . ',' ...
      [$.record_component_association_list,$.positional_array_aggregate],

      // 'case' '[' iterated_element_association . ']'
      [$.value_sequence,$.array_component_association],

      // "procedure name is" could be either a procedure specification,or
      // a generic_instantiation.
      [$.generic_instantiation,$.procedure_specification],

      // identifier . ':' ...
      [$.defining_identifier_list,$.object_renaming_declaration,
         $.exception_renaming_declaration],
      [$.defining_identifier_list,$.object_renaming_declaration],
      [$.defining_identifier_list,$.object_renaming_declaration,
       $.loop_label,$.exception_renaming_declaration],
      [$.defining_identifier_list,$.name],

      // 'generic' . 'package' ...
      [$.generic_formal_part,$.generic_renaming_declaration],

      // 'type' identifier 'is' 'new' _subtype_indication . 'with'
      // could be either a record_extension_part or an aspect_specification.
      [$.derived_type_definition],

      // 'for' name 'use' '(' 'for' identifier 'in' name . 'use'
      [$.iterator_specification,$.subtype_indication],

      // 'type' identifier known_discriminant_part . 'is' ...
      // This could be either a _discriminant_part or known_discriminant_part,
      // the latter in case we are declaring a private type. We can't make the
      // difference until we have seen "private".
      [$.full_type_declaration,$.discriminant_part],

      // 'type' identifier 'is' 'new' _subtype_indication . 'with' .
      [$.private_extension_declaration,$.derived_type_definition],

      // 'generic' 'type' identifier 'is' 'new' _name . 'with' ...
      // The with could be either part of formal_derived_type_definition,as
      // "is new Foo with private",or an aspect
      // (via formal_complete_type_declaration)
      [$.formal_derived_type_definition],

      [$.function_call,$.procedure_call_statement],
      [$.name,$.aspect_mark],
      [$.name,$.package_body_stub],
      [$.name,$.subtype_indication],
      [$.name,$.subtype_indication,$.component_choice_list],
      [$.attribute_definition_clause,$.attribute_reference],
      [$.component_choice_list,$.discrete_choice],
      [$.component_choice_list,$.positional_array_aggregate],
      [$.discriminant_association,$.parenthesized_expression],
   ],
   extras: $ => [
      $.COMMENT,
      $.CONFLICT_MARK_A,
      $.CONFLICT_MARK_B,
      $.CONFLICT_MARK_END,
      /\s|\\\r?\n/,
   ],
});
