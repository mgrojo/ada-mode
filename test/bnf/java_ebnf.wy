;; Examples of EBNF syntax used in the Java grammar file
;; https://github.com/antlr/grammars-v4/tree/master/java
;;
;; Note that the only *.*_good file is java_ebnf_bnf.wy_good, and that
;; this file does not declare all used tokens; we are only testing the
;; translation from EBNF to BNF.

%meta_syntax EBNF

%start compilationUnit

;; IDENTIFIER QUESTION | IDENTIFIER STAR
compilationUnit
    : packageDeclaration? importDeclaration* typeDeclaration* EOF
    ;

statement
    : blockLabel=block
    | TRY block (catchClause+ finallyBlock? | finallyBlock)
    | SWITCH parExpression '{' switchBlockStatementGroup* switchLabel* '}'
    ;

;; rhs_group_item QUESTION | STRING_LITERAL_2 QUESTION
enumDeclaration
    : ENUM IDENTIFIER (IMPLEMENTS typeList)? '{' enumConstants? ','? enumBodyDeclarations? '}'
    ;

;; labeled rhs_optional_item
forControl
    : enhancedForControl
    | forInit? ';' expression? ';' forUpdate=expressionList?
    ;

;; labeled STRING_LITERAL_2, non-trivial rhs_alternative_list, labeled rhs_group_item
expression
    : primary
    | expression bop='.'
      ( THIS
      | NEW nonWildcardTypeArguments? innerCreator
      | SUPER superSuffix
      | explicitGenericInvocation
      )
    | expression postfix=('++' | '--')
    ;

;; end of file
